{"ast":null,"code":"var _jsxFileName = \"D:\\\\Akshatha\\\\escheme\\\\frontend\\\\src\\\\componets\\\\Login.js\";\nimport React, { Component, Fragment } from \"react\";\nimport \"./CSS/App.css\";\nimport axios from \"axios\";\nimport { Redirect, Link } from \"react-router-dom\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = async e => {\n      e.preventDefault();\n      const login = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      const body = JSON.stringify(login);\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      };\n\n      try {\n        const res = await axios.post(`http://localhost:5000/api/v1/auth/login`, body, config);\n        sessionStorage.setItem(\"token\", res.data.token);\n        sessionStorage.setItem(\"isAuth\", true);\n        this.setState({\n          isAuth: true\n        });\n      } catch (error) {\n        alert(\"error to login\");\n      }\n    };\n\n    this.state = {\n      email: \"\",\n      password: \"\",\n      type: \"\",\n      isAuth: false\n    };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState(() => ({\n      type: this.props.match.params.type\n    }));\n    console.log(this.props.match.params);\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    }); // console.log(\"123\");\n  }\n\n  render() {\n    // console.log(this.props.match.params);\n    // const { type } = this.props.match.params;\n    const type = this.state.type;\n    let social = {};\n    let signup, login;\n    social = \"#ffc312\";\n    signup = React.createElement(Link, {\n      to: `/signup/${this.state.type}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"signup\");\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, console.log(this.state.type), this.state.isAuth ? this.state.type == \"admin\" ? React.createElement(Redirect, {\n      isAuth: this.state.isAuth,\n      to: \"/admin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }) : this.state.type == \"gemploye\" ? React.createElement(Redirect, {\n      isAuth: this.state.isAuth,\n      to: \"/vendor/Home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }) : this.state.type == \"public\" ? React.createElement(Redirect, {\n      isAuth: this.state.isAuth,\n      to: \"/user/Home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }) : React.createElement(Redirect, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      className: \"container logintop \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \" \",\n      id: \"login-second\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card animated bounce\",\n      id: \"login-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"mt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \" \", this.state.type, \" signin \")), React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-text\",\n      style: {\n        background: social\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }))), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"email\",\n      name: \"email\",\n      value: this.state.email,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-text\",\n      style: {\n        background: social\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-key\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }))), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      placeholder: \"password\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.onChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      value: \"Login\",\n      className: \"btn float-right login_btn btn-block \",\n      style: {\n        backgroundColor: social\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Login\")))), React.createElement(\"ul\", {\n      className: \"social-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Link, {\n      href: \"(0)\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-twitter \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }))), React.createElement(\"li\", {\n      className: \"facebook animated bounceIn wow delay-03s animated\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(Link, {\n      href: \"(0)\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-facebook \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }))), React.createElement(\"li\", {\n      className: \"pinterest animated bounceIn wow delay-04s animated\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(Link, {\n      href: \"(0)\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-pinterest \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }))), React.createElement(\"li\", {\n      className: \"dribbble animated bounceIn wow delay-06s animated\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(Link, {\n      href: \"(0)\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-instagram \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"card-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex justify-content-center links\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"Don't have an account?\", signup), React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, React.createElement(Link, {\n      href: \"/reset\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, \"Forgot your password?\"))))))))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["D:/Akshatha/escheme/frontend/src/componets/Login.js"],"names":["React","Component","Fragment","axios","Redirect","Link","Login","constructor","props","onSubmit","e","preventDefault","login","email","state","password","body","JSON","stringify","config","headers","res","post","sessionStorage","setItem","data","token","setState","isAuth","error","alert","type","onChange","bind","componentDidMount","match","params","console","log","target","name","value","render","social","signup","background","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from \"react\";\r\nimport \"./CSS/App.css\";\r\nimport axios from \"axios\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\n\r\nclass Login extends Component {\r\n  constructor (props){\r\n    super(props);\r\n  \r\n  this.state = {\r\n    email: \"\",\r\n    password: \"\",\r\n    type: \"\",\r\n    isAuth:false,\r\n\r\n  };\r\n  this.onChange=this.onChange.bind(this);\r\n}\r\n\r\n  componentDidMount() {\r\n    this.setState(() => ({\r\n      type: this.props.match.params.type,\r\n    }));\r\n\r\n    console.log(this.props.match.params);\r\n  }\r\n  onChange(e) {\r\n    this.setState({ [e.target.name]:e.target.value });\r\n  \r\n    // console.log(\"123\");\r\n  }\r\n  onSubmit  =async (e) => {\r\n    e.preventDefault();\r\n     const login ={\r\n       email:this.state.email,\r\n       password:this.state.password,\r\n     };\r\n\r\n     const body=JSON.stringify(login);\r\n     const config={\r\n       headers:{\r\n         \"Content-Type\":\"application/json\",\r\n       },\r\n     };\r\n\r\n     try{\r\n       const res=await axios.post(\r\n         `http://localhost:5000/api/v1/auth/login`,body,config\r\n       );\r\n     \r\nsessionStorage.setItem(\"token\",res.data.token);\r\nsessionStorage.setItem(\"isAuth\",true);\r\nthis.setState({\r\n  isAuth:true,\r\n});\r\n    \r\n }\r\n catch(error){\r\n   alert(\"error to login\");\r\n }\r\n  \r\n };\r\n\r\n\r\n\r\n  render() {\r\n    // console.log(this.props.match.params);\r\n    // const { type } = this.props.match.params;\r\n    \r\n    const type = this.state.type;\r\n    let social = {};\r\n    let signup, login;\r\n\r\n    social=\"#ffc312\";\r\n    signup= <Link to={`/signup/${this.state.type}`}>signup</Link>\r\n\r\n    \r\n    return (\r\n      <Fragment>\r\n{console.log(this.state.type)}\r\n          {this.state.isAuth?(\r\n            this.state.type==\"admin\" ?(\r\n              <Redirect isAuth={this.state.isAuth} to=\"/admin\"/>\r\n            ):this.state.type==\"gemploye\" ?(\r\n              <Redirect isAuth={this.state.isAuth} to=\"/vendor/Home\"/>\r\n            ):this.state.type==\"public\" ?(\r\n            <Redirect isAuth={this.state.isAuth} to=\"/user/Home\"/>\r\n            ):(<Redirect to=\"/\"/>)\r\n            ):(\r\n            \r\n          \r\n    \r\n      <div className=\"container logintop \">\r\n        <div className=\"\">\r\n          {/* <div className=\"jumbotron col-md-6 col-sm-5 \" id=\"login-first\"></div> */}\r\n          <div className=\" \" id=\"login-second\">\r\n            <div className=\"container\">\r\n              <div className=\"d-flex justify-content-center\">\r\n              \r\n                <div className=\"card animated bounce\" id=\"login-card\">\r\n                  <div className=\"card-header\">\r\n                    <h3 className=\"mt-5\"> {this.state.type} signin </h3>\r\n               \r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    \r\n                    <form onSubmit={this.onSubmit}>\r\n                      <div className=\"input-group form-group\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span\r\n                            className=\"input-group-text\"\r\n                            style={{ background: social }}\r\n                          >\r\n                            <i className=\"fa fa-user\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          placeholder=\"email\"\r\n                          name=\"email\"\r\n                          value={this.state.email}\r\n                          onChange={this.onChange}\r\n                        />\r\n                      </div>\r\n                      <div className=\"input-group form-group\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span\r\n                            className=\"input-group-text\"\r\n                            style={{ background: social }}\r\n                          >\r\n                            <i className=\"fa fa-key\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <input\r\n                          type=\"password\"\r\n                          className=\"form-control\"\r\n                          placeholder=\"password\"\r\n                          name=\"password\"\r\n                          value={this.state.password}\r\n                          onChange={this.onChange}\r\n                        />\r\n                      </div>\r\n\r\n                      <div className=\"form-group \">\r\n                        <button\r\n                          type=\"submit\"\r\n                          value=\"Login\"\r\n                          className=\"btn float-right login_btn btn-block \"\r\n                          style={{\r\n                            backgroundColor: social,\r\n                          }}\r\n                        >\r\n                          Login\r\n                        </button>\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                  <ul className=\"social-link\">\r\n                  <li >\r\n                    <Link href=\"(0)\">\r\n                      <i className=\"fa fa-twitter \"></i>\r\n                    </Link>\r\n                  </li>\r\n                  <li className=\"facebook animated bounceIn wow delay-03s animated\">\r\n                    <Link href=\"(0)\">\r\n                      <i className=\"fa fa-facebook \"></i>\r\n                    </Link>\r\n                  </li>\r\n                  <li className=\"pinterest animated bounceIn wow delay-04s animated\">\r\n                    <Link href=\"(0)\">\r\n                      <i className=\"fa fa-pinterest \"></i>\r\n                    </Link>\r\n                  </li>\r\n                  <li className=\"dribbble animated bounceIn wow delay-06s animated\">\r\n                    <Link href=\"(0)\">\r\n                      <i className=\"fa fa-instagram \"></i>\r\n                    </Link>\r\n                  </li>\r\n               \r\n                \r\n                </ul>\r\n                  <div className=\"card-footer\">\r\n                    <div className=\"d-flex justify-content-center links\">\r\n                      Don't have an account?\r\n                      {signup}\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-center\">\r\n                    <Link href=\"/reset\">Forgot your password?</Link>\r\n                      {/* <a href=\"/main/Home\">Admin</a> */}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n            )\r\n           }\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}