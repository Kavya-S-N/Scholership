{"ast":null,"code":"var _jsxFileName = \"D:\\\\Akshatha\\\\escheme\\\\frontend\\\\src\\\\componets\\\\MainAdmin\\\\AddGemploye.js\";\nimport React, { Component, Fragment } from \"react\";\nimport { Redirect } from \"react-router-dom\"; // import logo from \"../assets/logo.jpg\";\n// import { Link } from \"react-router-dom\";\n\nimport axios from \"axios\";\n\nclass AddGemploye extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = async e => {\n      e.preventDefault();\n      const reg = {\n        name: this.state.name,\n        email: this.state.email,\n        role: this.state.role,\n        password: this.state.password\n      };\n      const body = JSON.stringify(reg);\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }; // console.log(body);\n\n      try {\n        const res = await axios.post(`http://localhost:5000/api/v1/auth/register`, body, config);\n        console.log(res.data.token);\n        sessionStorage.setItem(\"token\", res.data.token);\n        sessionStorage.setItem(\"isAuth\", true); //console.log(sessionStorage);\n\n        this.setState({\n          isAuth: true\n        });\n        alert(\"registered\");\n      } catch (error) {\n        alert(\"error in sign up\");\n      }\n    };\n\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      role: null,\n      isAuth: false\n    };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      role: this.props.match.params.role\n    });\n  } //input onchange\n\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  } //register\n\n\n  render() {\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, this.state.isAuth ? React.createElement(Redirect, {\n      isAuth: this.state.isAuth,\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      className: \"container \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"jumbotron \",\n      id: \"login-second\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card\",\n      id: \"login-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"mt-5 sign\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Add new Gemployee\")), React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-text\",\n      style: {\n        background: \"#ffc312\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-envelope\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }))), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"email\",\n      value: this.state.email,\n      onChange: this.onChange,\n      placeholder: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-text\",\n      style: {\n        background: \"#ffc312\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }))), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"name\",\n      value: this.state.name,\n      onChange: this.onChange,\n      placeholder: \"username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"input-group form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"input-group-text\",\n      style: {\n        background: \"#ffc312\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-key\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }))), React.createElement(\"input\", {\n      type: \"password\",\n      className: \"form-control\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.onChange,\n      placeholder: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Add\",\n      className: \"btn float-right login_btn btn-warning btn-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    })))))))))));\n  }\n\n}\n\nexport default AddGemploye;","map":{"version":3,"sources":["D:/Akshatha/escheme/frontend/src/componets/MainAdmin/AddGemploye.js"],"names":["React","Component","Fragment","Redirect","axios","AddGemploye","constructor","props","onSubmit","e","preventDefault","reg","name","state","email","role","password","body","JSON","stringify","config","headers","res","post","console","log","data","token","sessionStorage","setItem","setState","isAuth","alert","error","onChange","bind","componentDidMount","match","params","target","value","render","background"],"mappings":"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","sourcesContent":["import React, { Component, Fragment, } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n// import logo from \"../assets/logo.jpg\";\r\n// import { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nclass AddGemploye extends Component {\r\n  constructor (props){\r\n    super(props);\r\n  \r\n  this.state = {\r\n    name:\"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    role: null,\r\n    isAuth:false,\r\n    \r\n  };\r\n  this.onChange=this.onChange.bind(this);\r\n}\r\n  \r\ncomponentDidMount(){\r\n  this.setState({\r\n    role: this.props.match.params.role,\r\n  });\r\n}\r\n//input onchange\r\nonChange(e){\r\n  this.setState({\r\n    [e.target.name]:e.target.value,\r\n  });\r\n}\r\n//register\r\nonSubmit=async (e)=>{\r\n  e.preventDefault();\r\n\r\n  const reg={\r\n    name:this.state.name,\r\n    email:this.state.email,\r\n    role:this.state.role,\r\n    password:this.state.password,\r\n  };\r\n\r\n     const body=JSON.stringify(reg);\r\n    const config={\r\n      headers:{\r\n          \r\n          \"Content-Type\":\"application/json\",\r\n        },\r\n   };\r\n// console.log(body);\r\n      try{\r\n         const res=await axios.post(\r\n                              `http://localhost:5000/api/v1/auth/register`,body,config\r\n                             );\r\n      console.log(res.data.token);\r\n      sessionStorage.setItem(\"token\",res.data.token);\r\n      sessionStorage.setItem(\"isAuth\",true);\r\n      //console.log(sessionStorage);\r\n       this.setState({\r\n                    isAuth:true,\r\n                   });\r\n                   alert(\"registered\");\r\n     }catch(error){\r\n                 alert(\"error in sign up\");\r\n                }\r\n  \r\n  };\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        {this.state.isAuth?(\r\n          <Redirect isAuth={this.state.isAuth} to=\"/\"/>\r\n        ):(\r\n    \r\n      <div className=\"container \">\r\n        <div className=\"\">\r\n\r\n          {/* <div className=\"jumbotron col-md-6 col-sm-5 \" id=\"login-first\"></div> */}\r\n          <div className=\"jumbotron \" id=\"login-second\">\r\n            <div className=\"container\">\r\n              <div className=\"d-flex justify-content-center\">\r\n                <div className=\"card\" id=\"login-card\">\r\n                  <div className=\"card-header\">\r\n                    <h3 className=\"mt-5 sign\">Add new Gemployee</h3>\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <form onSubmit={this.onSubmit}>\r\n                      <div className=\"input-group form-group\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span\r\n                            className=\"input-group-text\"\r\n                            style={{ background: \"#ffc312\" }}\r\n                          >\r\n                            <i className=\"fa fa-envelope\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          name=\"email\"\r\n                          value={this.state.email}\r\n                          onChange={this.onChange}\r\n                          placeholder=\"email\"\r\n                           />\r\n                      </div>\r\n                      <div className=\"input-group form-group\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span\r\n                            className=\"input-group-text\"\r\n                            style={{ background: \"#ffc312\" }}\r\n                          >\r\n                            <i className=\"fa fa-user\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"form-control\"\r\n                          name=\"name\"\r\n                          value={this.state.name}\r\n                          onChange={this.onChange}\r\n                          placeholder=\"username\"\r\n                          \r\n                        />\r\n                      </div>\r\n                      <div className=\"input-group form-group\">\r\n                        <div className=\"input-group-prepend\">\r\n                          <span\r\n                            className=\"input-group-text\"\r\n                            style={{ background: \"#ffc312\" }}\r\n                          >\r\n                            <i className=\"fa fa-key\"></i>\r\n                          </span>\r\n                        </div>\r\n                        <input\r\n                          type=\"password\"\r\n                          className=\"form-control\"\r\n                          name=\"password\"\r\n                          value={this.state.password}\r\n                          onChange={this.onChange}\r\n                          placeholder=\"password\"\r\n                        />\r\n                      </div>\r\n                      \r\n                      <div className=\"form-group\">\r\n                        <input\r\n                          type=\"submit\"\r\n                          value=\"Add\"\r\n                          className=\"btn float-right login_btn btn-warning btn-block\"\r\n                        />\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                  {/* <div className=\"\">\r\n                    <div className=\"d-flex justify-content-center links\">\r\n                      Already have an account?<a href=\"/Login/user\">Sign In</a>\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-center\">\r\n                      <a href=\"/reset\">Forgot your password?</a>\r\n                    </div>\r\n                  </div> */}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n         )\r\n\r\n       }\r\n       </Fragment>\r\n       )\r\n       }\r\n       \r\n  \r\n}\r\nexport default AddGemploye;\r\n"]},"metadata":{},"sourceType":"module"}